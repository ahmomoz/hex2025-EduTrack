import{e as X,c as B,o as S,a as s,f as Y,d as E,t as y,u as m,n as Z,C as L,g as V,s as G,h as A,v as Q,r as w,i as K,j as ss,k as es,l as O,m as ts,p as H,L as as,q as os,x as ns,y as rs,z as is,P as ls,A as ds,B as cs,D as R,E as ms,F as ps,G as j,_ as _s}from"./CAOEXUCe.js";const gs={class:"row"},us={class:"col-xl-3 col-md-6 mb-4"},fs={class:"card border-left-primary shadow h-100 p-2"},Cs={class:"card-body"},hs={class:"row no-gutters align-items-center h-100"},xs={class:"col"},Ps={class:"fs-3 mb-0 fw-bold"},bs={class:"col-xl-3 col-md-6 mb-4"},vs={class:"card border-left-info shadow h-100 p-2"},Ss={class:"card-body"},ys={class:"row no-gutters align-items-center h-100"},Ds={class:"col mr-2"},Es={class:"row no-gutters align-items-center"},Rs={class:"col-auto"},As={class:"fs-3 mb-0 fw-bold"},ws={class:"col"},Os={class:"progress progress-sm mr-2"},Ls={class:"col-xl-3 col-md-6 mb-4"},Is={class:"card border-left-warning shadow h-100 p-2"},ks={class:"card-body"},Fs={class:"row no-gutters align-items-center h-100"},Ms={class:"col"},Us={class:"fs-3 mb-0 fw-bold"},Ns={__name:"ContentRow",props:{stats:{type:Object,required:!0},checkInNum:{required:!0}},setup(e){const o=e,t=X(()=>{var a,r;return((((r=(a=o==null?void 0:o.stats)==null?void 0:a.css)==null?void 0:r.length)??0)/27*100).toFixed(0)});return(p,a)=>{var r;return S(),B("div",gs,[s("div",us,[s("div",fs,[s("div",Cs,[s("div",hs,[s("div",xs,[a[1]||(a[1]=s("div",{class:"font-weight-bold text-primary mb-1"}," 每日任務總打卡次數 ",-1)),s("div",Ps,[E(y(e.checkInNum)+" ",1),a[0]||(a[0]=s("span",{class:"fs-6 fw-light"},"次",-1))])]),a[2]||(a[2]=s("div",{class:"col-auto"},[s("i",{class:"fas fa-check fa-2x text-gray-300"})],-1))])])])]),s("div",bs,[s("div",vs,[s("div",Ss,[s("div",ys,[s("div",Ds,[a[3]||(a[3]=s("div",{class:"text-xs font-weight-bold text-info text-uppercase mb-1"}," 任務發布進度 ",-1)),s("div",Es,[s("div",Rs,[s("div",As,y(m(t))+" % ",1)]),s("div",ws,[s("div",Os,[s("div",{class:"progress-bar bg-info",role:"progressbar",style:Z({width:`${m(t)}%`}),"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])])]),a[4]||(a[4]=s("div",{class:"col-auto"},[s("i",{class:"fas fa-clipboard-list fa-2x text-gray-300"})],-1))])])])]),s("div",Ls,[s("div",Is,[s("div",ks,[s("div",Fs,[s("div",Ms,[a[6]||(a[6]=s("div",{class:"font-weight-bold text-warning mb-1"}," 每日任務已經累積 ",-1)),s("div",Us,[E(y((r=o==null?void 0:o.stats)==null?void 0:r.css.length)+" ",1),a[5]||(a[5]=s("span",{class:"fs-6 fw-light"},"天",-1))])]),a[7]||(a[7]=s("div",{class:"col-auto"},[s("i",{class:"fas fa-calendar fa-2x text-gray-300"})],-1))])])])]),a[8]||(a[8]=Y('<div class="col-xl-3 col-md-6 mb-4"><div class="card border-left-success shadow h-100 p-2"><div class="card-body"><div class="row no-gutters align-items-center h-100"><div class="col"><div class="font-weight-bold text-success mb-1"> 查看每日任務打卡回報區 </div><div class="fs-5 mb-0"><a href="https://discord.com/channels/801807326054055996/1349590197708525638" target="_blank" rel="noopener noreferrer">點此前往 Discord </a></div></div><div class="col-auto"><i class="fas fa-arrow-right fa-2x text-gray-300"></i></div></div></div></div></div>',1))])}}},J={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Ts={ariaLabel:{type:String},ariaDescribedby:{type:String}},Ws={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...J,...Ts},js=Q[0]==="2"?(e,o)=>Object.assign(e,{attrs:o}):(e,o)=>Object.assign(e,o);function v(e){return H(e)?O(e):e}function $s(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return H(o)?new Proxy(e,{}):e}function Bs(e,o){const t=e.options;t&&o&&Object.assign(t,o)}function q(e,o){e.labels=o}function z(e,o,t){const p=[];e.datasets=o.map(a=>{const r=e.datasets.find(c=>c[t]===a[t]);return!r||!a.data||p.includes(r)?{...a}:(p.push(r),Object.assign(r,a),r)})}function Vs(e,o){const t={labels:[],datasets:[]};return q(t,e.labels),z(t,e.datasets,o),t}const Gs=V({props:Ws,setup(e,o){let{expose:t,slots:p}=o;const a=w(null),r=G(null);t({chart:r});const c=()=>{if(!a.value)return;const{type:l,data:_,options:u,plugins:f,datasetIdKey:C}=e,x=Vs(_,C),g=$s(x,_);r.value=new L(a.value,{type:l,data:g,options:{...u},plugins:f})},n=()=>{const l=O(r.value);l&&(e.destroyDelay>0?setTimeout(()=>{l.destroy(),r.value=null},e.destroyDelay):(l.destroy(),r.value=null))},i=l=>{l.update(e.updateMode)};return K(c),ss(n),es([()=>e.options,()=>e.data],(l,_)=>{let[u,f]=l,[C,x]=_;const g=O(r.value);if(!g)return;let d=!1;if(u){const h=v(u),b=v(C);h&&h!==b&&(Bs(g,h),d=!0)}if(f){const h=v(f.labels),b=v(x.labels),P=v(f.datasets),D=v(x.datasets);h!==b&&(q(g.config.data,h),d=!0),P&&P!==D&&(z(g.config.data,P,e.datasetIdKey),d=!0)}d&&ts(()=>{i(g)})},{deep:!0}),()=>A("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:a},[A("p",{},[p.default?p.default():""])])}});function Ks(e,o){return L.register(o),V({props:J,setup(t,p){let{expose:a}=p;const r=G(null),c=n=>{r.value=n==null?void 0:n.chart};return a({chart:r}),()=>A(Gs,js({ref:c},{type:e,...t}))}})}const Hs=Ks("line",as),Js={__name:"CheckinLineChart",props:{stats:{type:Object,required:!0}},setup(e){var c,n;L.register(os,ns,rs,is,ls,ds,cs);function o(i,l=0,_=".",u=","){i=(i+"").replace(/[^0-9+\-Ee.]/g,"");const f=isFinite(+i)?+i:0,C=isFinite(+l)?Math.abs(l):0,x=u,g=_;let d="";return d=(C?((b,P)=>""+Math.round(b*Math.pow(10,P))/Math.pow(10,P))(f,C):""+Math.round(f)).split("."),d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,x)),(d[1]||"").length<C&&(d[1]=d[1]||"",d[1]+=new Array(C-d[1].length+1).join("0")),d.join(g)}const t=e,a={labels:Array.from({length:t.stats.css.length},(i,l)=>`Day ${l+1}`),datasets:[{label:"切版任務",data:(c=t==null?void 0:t.stats)==null?void 0:c.css,fill:!1,backgroundColor:"rgba(78, 115, 223, 0.05)",borderColor:"rgba(78, 115, 223, 1)",pointBackgroundColor:"rgba(78, 115, 223, 1)",tension:0},{label:"JS 任務",data:(n=t==null?void 0:t.stats)==null?void 0:n.js,fill:!1,backgroundColor:"rgba(244, 189, 51, 0.05)",borderColor:"rgba(244, 189, 51, 1)",pointBackgroundColor:"rgba(244, 189, 51, 1)",tension:0}]},r={responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:10,right:25,top:25,bottom:0}},plugins:{legend:{display:!0,position:"right",labels:{boxWidth:12,padding:10}},tooltip:{backgroundColor:"rgb(255,255,255)",bodyColor:"#858796",titleColor:"#6e707e",titleFont:{size:14},borderColor:"#dddfeb",borderWidth:1,padding:15,displayColors:!1,mode:"index",intersect:!1,callbacks:{label:function(i){return i.datasetIndex===0?"切版任務完成數: "+o(i.raw):i.datasetIndex===1?"JS 任務完成數: "+o(i.raw):o(i.raw)}}}},scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{maxTicksLimit:7}},y:{grid:{color:"rgb(234, 236, 244)",zeroLineColor:"rgb(234, 236, 244)",drawBorder:!1,borderDash:[2],zeroLineBorderDash:[2]},ticks:{maxTicksLimit:5,padding:10,callback:i=>o(i)}}}};return(i,l)=>(S(),R(m(Hs),{data:a,options:r}))}},qs=ms("/img/undraw_learning_2jue.svg");var $={ALLUSERSPROFILE:"C:\\ProgramData",API_BASE_URL:"https://hex2025.onrender.com/api",APPDATA:"C:\\Users\\x5426\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_14852_SRSFFVRLMEDSWBOW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-K1CR84R",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\x5426",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\x5426",INIT_CWD:"C:\\Program Files\\Nuxt\\hex2025-EduTrack",KMP_BLOCKTIME:"0",LANG:"zh_TW.UTF-8",LOCALAPPDATA:"C:\\Users\\x5426\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-K1CR84R",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\x5426\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\x5426\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\x5426\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\x5426\\.npm-init.js",npm_config_local_prefix:"C:\\Program Files\\Nuxt\\hex2025-EduTrack",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_node_gyp:"C:\\Users\\x5426\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_prefix:"C:\\Users\\x5426\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\x5426\\.npmrc",npm_config_user_agent:"npm/9.5.1 node/v18.16.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\x5426\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"generate",npm_lifecycle_script:"nuxt generate",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Program Files\\Nuxt\\hex2025-EduTrack\\package.json",npm_package_name:"nuxt-app",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\x5426\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",NVM_HOME:"C:\\Users\\x5426\\AppData\\Roaming\\nvm",NVM_SYMLINK:"C:\\Program Files\\nodejs",OMP_WAIT_POLICY:"PASSIVE",OneDrive:"C:\\Users\\x5426\\OneDrive",OneDriveConsumer:"C:\\Users\\x5426\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Program Files\\Nuxt\\hex2025-EduTrack\\node_modules\\.bin;C:\\Program Files\\Nuxt\\node_modules\\.bin;C:\\Program Files\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\x5426\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Git\\cmd;C:\\Users\\x5426\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Windows\\System32\\Wbem;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\PuTTY\\;C:\\Users\\x5426\\AppData\\Local\\Programs\\Python\\Python313\\Scripts\\;C:\\Users\\x5426\\AppData\\Local\\Programs\\Python\\Python313\\;C:\\Users\\x5426\\AppData\\Local\\Programs\\Python\\Launcher\\;C:\\Users\\x5426\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\x5426\\.dotnet\\tools;C:\\Users\\x5426\\AppData\\Roaming\\npm;C:\\Users\\x5426\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Program Files (x86)\\ngrok;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 94 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"5e03",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\x5426\\OneDrive\\文件\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\x5426\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.3",TMP:"C:\\Users\\x5426\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-K1CR84R",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-K1CR84R",USERNAME:"x5426",USERPROFILE:"C:\\Users\\x5426",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-7af9e1cdba-sock",VSCODE_INJECTION:"1",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"};const zs={id:"content-wrapper",class:"d-flex flex-column height-100vh pt-4"},Xs={id:"content"},Ys={class:"container-fluid"},Zs={class:"row"},Qs={class:"col-xl-8 col-lg-7 mb-4"},se={class:"card shadow h-100"},ee={class:"card-body"},te={class:"chart-area"},ae={class:"col-xl-4 col-lg-5 mb-4"},oe={class:"card shadow h-100"},ne={class:"card-body px-4"},re={class:"f-column gap-3 mt-3"},ie={class:"f-column gap-2"},le=["href"],de={class:"f-column gap-2"},ce=["href"],me={__name:"Dashboard",setup(e){const{$swal:o}=ps(),t=w(null),p=w(0),a=c=>{const{message:n}=(c==null?void 0:c.data)||{};o.fire({position:"center",icon:"error",title:n||"發生未知錯誤，請稍後重試",showConfirmButton:!1,timer:1500})},r=async()=>{var c,n;try{const[i,l]=await Promise.all([$fetch("/tasks/",{baseURL:$.API_BASE_URL}),$fetch("/dashboard/",{baseURL:$.API_BASE_URL})]);t.value=i,p.value=((n=(c=l==null?void 0:l.stats)==null?void 0:c.filter(_=>new Date(_.date)>=new Date("2025-05-01")))==null?void 0:n.reduce((_,u)=>_+u.count,0))||0}catch(i){a(i.response||{})}};return K(()=>r()),(c,n)=>{var _,u,f,C,x,g,d,h,b,P,D,I,k,F,M,U,N,T,W;const i=Ns,l=Js;return S(),B("div",zs,[s("div",Xs,[s("div",Ys,[n[5]||(n[5]=s("div",{class:"d-sm-flex align-items-center justify-content-between mb-4"},[s("h1",{class:"h3 mb-0 text-gray-800"},"Dashboard")],-1)),(_=m(t))!=null&&_.stats?(S(),R(i,{key:0,stats:(u=m(t))==null?void 0:u.stats,checkInNum:m(p)},null,8,["stats","checkInNum"])):j("",!0),s("div",Zs,[s("div",Qs,[s("div",se,[n[0]||(n[0]=s("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[s("h6",{class:"m-0 font-weight-bold text-primary"}," 每日任務完成累積數量 ")],-1)),s("div",ee,[s("div",te,[(f=m(t))!=null&&f.stats?(S(),R(l,{key:0,stats:(C=m(t))==null?void 0:C.stats},null,8,["stats"])):j("",!0)])])])]),s("div",ae,[s("div",oe,[n[4]||(n[4]=s("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[s("h6",{class:"m-0 font-weight-bold text-primary"},"今日任務")],-1)),s("div",ne,[n[3]||(n[3]=s("div",{class:"f-center"},[s("img",{src:qs,alt:"learning-image",class:"img-fluid",style:{width:"16rem"}})],-1)),s("ul",re,[s("li",ie,[n[1]||(n[1]=s("span",{class:"fs-5"},[s("i",{class:"fas fa-circle text-primary me-1"}),E(" 切版 ")],-1)),s("a",{href:(d=(x=m(t))==null?void 0:x.formatted_tasks)==null?void 0:d.htmlAndCss[((g=m(t))==null?void 0:g.formatted_tasks.htmlAndCss.length)-1].link,target:"_blank",class:"fs-5 text-decoration-none slide-right-hover"},y((D=(h=m(t))==null?void 0:h.formatted_tasks)==null?void 0:D.htmlAndCss[((P=(b=m(t))==null?void 0:b.formatted_tasks)==null?void 0:P.htmlAndCss.length)-1].title),9,le)]),s("li",de,[n[2]||(n[2]=s("span",{class:"fs-5"},[s("i",{class:"fas fa-circle text-warning me-1"}),E(" JavaScript ")],-1)),s("a",{href:(M=(I=m(t))==null?void 0:I.formatted_tasks)==null?void 0:M.javaScript[((F=(k=m(t))==null?void 0:k.formatted_tasks)==null?void 0:F.javaScript.length)-1].link,target:"_blank",class:"fs-5 text-decoration-none slide-right-hover"},y((W=(U=m(t))==null?void 0:U.formatted_tasks)==null?void 0:W.javaScript[((T=(N=m(t))==null?void 0:N.formatted_tasks)==null?void 0:T.javaScript.length)-1].title),9,ce)])])])])])])])])])}}},pe={};function _e(e,o){const t=me;return S(),R(t)}const ue=_s(pe,[["render",_e]]);export{ue as default};
