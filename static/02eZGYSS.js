import{e as E,c as I,o as k,a as t,f as V,d as L,t as D,u as d,n as J,C as A,g as N,s as F,h as P,v as U,r as H,i as K,j as W,k as G,l as O,m as Q,p as M,L as X,q as Y,x as Z,y as tt,z as st,P as et,A as at,B as ot,D as S,E as nt,F as B,_ as rt}from"./D3dZJYrJ.js";import{t as $,a as v}from"./CeM2eCOb.js";const it={class:"row"},dt={class:"col-xl-3 col-md-6 mb-4"},lt={class:"card border-left-primary shadow h-100 p-2"},ct={class:"card-body"},ut={class:"row no-gutters align-items-center h-100"},ft={class:"col"},gt={class:"fs-3 mb-0 fw-bold"},ht={class:"col-xl-3 col-md-6 mb-4"},pt={class:"card border-left-info shadow h-100 p-2"},mt={class:"card-body"},bt={class:"row no-gutters align-items-center h-100"},_t={class:"col mr-2"},vt={class:"row no-gutters align-items-center"},yt={class:"col-auto"},xt={class:"fs-3 mb-0 fw-bold"},wt={class:"col"},kt={class:"progress progress-sm mr-2"},Ct={class:"col-xl-3 col-md-6 mb-4"},Dt={class:"card border-left-warning shadow h-100 p-2"},$t={class:"card-body"},Lt={class:"row no-gutters align-items-center h-100"},St={class:"col"},jt={class:"fs-3 mb-0 fw-bold"},Pt={__name:"ContentRow",props:{stats:{type:Object,required:!0},checkInNum:{required:!0}},setup(s){const o=s,n=E(()=>{var e,a;return((((a=(e=o==null?void 0:o.stats)==null?void 0:e.css)==null?void 0:a.length)??0)/25*100).toFixed(0)});return(c,e)=>{var a;return k(),I("div",it,[t("div",dt,[t("div",lt,[t("div",ct,[t("div",ut,[t("div",ft,[e[1]||(e[1]=t("div",{class:"font-weight-bold text-primary mb-1"}," 每日任務總打卡次數 ",-1)),t("div",gt,[L(D(s.checkInNum)+" ",1),e[0]||(e[0]=t("span",{class:"fs-6 fw-light"},"次",-1))])]),e[2]||(e[2]=t("div",{class:"col-auto"},[t("i",{class:"fas fa-check fa-2x text-gray-300"})],-1))])])])]),t("div",ht,[t("div",pt,[t("div",mt,[t("div",bt,[t("div",_t,[e[3]||(e[3]=t("div",{class:"text-xs font-weight-bold text-info text-uppercase mb-1"}," 任務發布進度 ",-1)),t("div",vt,[t("div",yt,[t("div",xt,D(d(n))+" % ",1)]),t("div",wt,[t("div",kt,[t("div",{class:"progress-bar bg-info",role:"progressbar",style:J({width:`${d(n)}%`}),"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])])]),e[4]||(e[4]=t("div",{class:"col-auto"},[t("i",{class:"fas fa-clipboard-list fa-2x text-gray-300"})],-1))])])])]),t("div",Ct,[t("div",Dt,[t("div",$t,[t("div",Lt,[t("div",St,[e[6]||(e[6]=t("div",{class:"font-weight-bold text-warning mb-1"}," 每日任務已經累積 ",-1)),t("div",jt,[L(D((a=o==null?void 0:o.stats)==null?void 0:a.css.length)+" ",1),e[5]||(e[5]=t("span",{class:"fs-6 fw-light"},"天",-1))])]),e[7]||(e[7]=t("div",{class:"col-auto"},[t("i",{class:"fas fa-calendar fa-2x text-gray-300"})],-1))])])])]),e[8]||(e[8]=V('<div class="col-xl-3 col-md-6 mb-4"><div class="card border-left-success shadow h-100 p-2"><div class="card-body"><div class="row no-gutters align-items-center h-100"><div class="col"><div class="font-weight-bold text-success mb-1"> 查看每日任務打卡回報區 </div><div class="fs-5 mb-0"><a href="https://discord.com/channels/801807326054055996/1349590197708525638" target="_blank" rel="noopener noreferrer">點此前往 Discord </a></div></div><div class="col-auto"><i class="fas fa-arrow-right fa-2x text-gray-300"></i></div></div></div></div></div>',1))])}}},q={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Ot={ariaLabel:{type:String},ariaDescribedby:{type:String}},At={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...q,...Ot},Bt=U[0]==="2"?(s,o)=>Object.assign(s,{attrs:o}):(s,o)=>Object.assign(s,o);function w(s){return M(s)?O(s):s}function It(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return M(o)?new Proxy(s,{}):s}function Nt(s,o){const n=s.options;n&&o&&Object.assign(n,o)}function R(s,o){s.labels=o}function T(s,o,n){const c=[];s.datasets=o.map(e=>{const a=s.datasets.find(g=>g[n]===e[n]);return!a||!e.data||c.includes(a)?{...e}:(c.push(a),Object.assign(a,e),a)})}function Ft(s,o){const n={labels:[],datasets:[]};return R(n,s.labels),T(n,s.datasets,o),n}const Mt=N({props:At,setup(s,o){let{expose:n,slots:c}=o;const e=H(null),a=F(null);n({chart:a});const g=()=>{if(!e.value)return;const{type:i,data:p,options:m,plugins:u,datasetIdKey:f}=s,b=Ft(p,f),_=It(b,p);a.value=new A(e.value,{type:i,data:_,options:{...m},plugins:u})},h=()=>{const i=O(a.value);i&&(s.destroyDelay>0?setTimeout(()=>{i.destroy(),a.value=null},s.destroyDelay):(i.destroy(),a.value=null))},r=i=>{i.update(s.updateMode)};return K(g),W(h),G([()=>s.options,()=>s.data],(i,p)=>{let[m,u]=i,[f,b]=p;const _=O(a.value);if(!_)return;let l=!1;if(m){const y=w(m),C=w(f);y&&y!==C&&(Nt(_,y),l=!0)}if(u){const y=w(u.labels),C=w(b.labels),x=w(u.datasets),z=w(b.datasets);y!==C&&(R(_.config.data,y),l=!0),x&&x!==z&&(T(_.config.data,x,s.datasetIdKey),l=!0)}l&&Q(()=>{r(_)})},{deep:!0}),()=>P("canvas",{role:"img",ariaLabel:s.ariaLabel,ariaDescribedby:s.ariaDescribedby,ref:e},[P("p",{},[c.default?c.default():""])])}});function qt(s,o){return A.register(o),N({props:q,setup(n,c){let{expose:e}=c;const a=F(null),g=h=>{a.value=h==null?void 0:h.chart};return e({chart:a}),()=>P(Mt,Bt({ref:g},{type:s,...n}))}})}const Rt=qt("line",X),Tt={__name:"CheckinLineChart",props:{stats:{type:Object,required:!0}},setup(s){var g,h;A.register(Y,Z,tt,st,et,at,ot);function o(r,i=0,p=".",m=","){r=(r+"").replace(/[^0-9+\-Ee.]/g,"");const u=isFinite(+r)?+r:0,f=isFinite(+i)?Math.abs(i):0,b=m,_=p;let l="";return l=(f?((C,x)=>""+Math.round(C*Math.pow(10,x))/Math.pow(10,x))(u,f):""+Math.round(u)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,b)),(l[1]||"").length<f&&(l[1]=l[1]||"",l[1]+=new Array(f-l[1].length+1).join("0")),l.join(_)}const n=s,e={labels:Array.from({length:n.stats.css.length},(r,i)=>`Day ${i+1}`),datasets:[{label:"切版任務",data:(g=n==null?void 0:n.stats)==null?void 0:g.css,fill:!1,backgroundColor:"rgba(78, 115, 223, 0.05)",borderColor:"rgba(78, 115, 223, 1)",pointBackgroundColor:"rgba(78, 115, 223, 1)",tension:0},{label:"JS 任務",data:(h=n==null?void 0:n.stats)==null?void 0:h.js,fill:!1,backgroundColor:"rgba(244, 189, 51, 0.05)",borderColor:"rgba(244, 189, 51, 1)",pointBackgroundColor:"rgba(244, 189, 51, 1)",tension:0}]},a={responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:10,right:25,top:25,bottom:0}},plugins:{legend:{display:!0,position:"right",labels:{boxWidth:12,padding:10}},tooltip:{backgroundColor:"rgb(255,255,255)",bodyColor:"#858796",titleColor:"#6e707e",titleFont:{size:14},borderColor:"#dddfeb",borderWidth:1,padding:15,displayColors:!1,mode:"index",intersect:!1,callbacks:{label:function(r){return r.datasetIndex===0?"切版任務完成數: "+o(r.raw):r.datasetIndex===1?"JS 任務完成數: "+o(r.raw):o(r.raw)}}}},scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{maxTicksLimit:7}},y:{grid:{color:"rgb(234, 236, 244)",zeroLineColor:"rgb(234, 236, 244)",drawBorder:!1,borderDash:[2],zeroLineBorderDash:[2]},ticks:{maxTicksLimit:5,padding:10,callback:r=>o(r)}}}};return(r,i)=>(k(),S(d(Rt),{data:e,options:a}))}},zt=nt("/img/undraw_learning_2jue.svg"),j={stats:[{date:"2025-05-01",count:231},{date:"2025-05-02",count:261},{date:"2025-05-03",count:267},{date:"2025-05-04",count:289},{date:"2025-05-05",count:334},{date:"2025-05-06",count:360},{date:"2025-05-07",count:403},{date:"2025-05-08",count:405},{date:"2025-05-09",count:387},{date:"2025-05-10",count:368},{date:"2025-05-11",count:381},{date:"2025-05-12",count:391},{date:"2025-05-13",count:379},{date:"2025-05-14",count:376},{date:"2025-05-15",count:388},{date:"2025-05-16",count:367},{date:"2025-05-17",count:354},{date:"2025-05-18",count:364},{date:"2025-05-19",count:384},{date:"2025-05-20",count:366},{date:"2025-05-21",count:374},{date:"2025-05-22",count:323},{date:"2025-05-23",count:300},{date:"2025-05-24",count:273},{date:"2025-05-25",count:263},{date:"2025-05-26",count:243},{date:"2025-05-27",count:243},{date:"2025-05-28",count:232},{date:"2025-05-29",count:179},{date:"2025-05-30",count:153},{date:"2025-05-31",count:133},{date:"2025-06-01",count:115},{date:"2025-06-02",count:110},{date:"2025-06-03",count:76},{date:"2025-06-04",count:74},{date:"2025-06-05",count:66},{date:"2025-06-06",count:59},{date:"2025-06-07",count:46}]},Et={id:"content-wrapper",class:"d-flex flex-column height-100vh pt-4"},Vt={id:"content"},Jt={class:"container-fluid"},Ut={class:"row"},Ht={class:"col-xl-8 col-lg-7 mb-4"},Kt={class:"card shadow h-100"},Wt={class:"card-body"},Gt={class:"chart-area"},Qt={class:"col-xl-4 col-lg-5 mb-4"},Xt={class:"card shadow h-100"},Yt={class:"card-body px-4"},Zt={class:"f-column gap-3 mt-3"},ts={class:"f-column gap-2"},ss=["href"],es={class:"f-column gap-2"},as=["href"],os={__name:"Dashboard",setup(s){var n,c;const o=((c=(n=j==null?void 0:j.stats)==null?void 0:n.filter(e=>new Date(e.date)>=new Date("2025-05-01")))==null?void 0:c.reduce((e,a)=>e+a.count,0))||0;return(e,a)=>{var r,i,p,m,u,f,b;const g=Pt,h=Tt;return k(),I("div",Et,[t("div",Vt,[t("div",Jt,[a[5]||(a[5]=t("div",{class:"d-sm-flex align-items-center justify-content-between mb-4"},[t("h1",{class:"h3 mb-0 text-gray-800"},"Dashboard")],-1)),d($)?(k(),S(g,{key:0,stats:d($),checkInNum:d(o)},null,8,["stats","checkInNum"])):B("",!0),t("div",Ut,[t("div",Ht,[t("div",Kt,[a[0]||(a[0]=t("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[t("h6",{class:"m-0 font-weight-bold text-primary"}," 每日任務完成累積數量 ")],-1)),t("div",Wt,[t("div",Gt,[d($)?(k(),S(h,{key:0,stats:d($)},null,8,["stats"])):B("",!0)])])])]),t("div",Qt,[t("div",Xt,[a[4]||(a[4]=t("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[t("h6",{class:"m-0 font-weight-bold text-primary"},"今日任務")],-1)),t("div",Yt,[a[3]||(a[3]=t("div",{class:"f-center"},[t("img",{src:zt,alt:"learning-image",class:"img-fluid",style:{width:"16rem"}})],-1)),t("ul",Zt,[t("li",ts,[a[1]||(a[1]=t("span",{class:"fs-5"},[t("i",{class:"fas fa-circle text-primary me-1"}),L(" 切版 ")],-1)),t("a",{href:(r=d(v))==null?void 0:r.htmlAndCss[d(v).htmlAndCss.length-1].link,target:"_blank",class:"fs-5 text-decoration-none slide-right-hover"},D((p=d(v))==null?void 0:p.htmlAndCss[((i=d(v))==null?void 0:i.htmlAndCss.length)-1].title),9,ss)]),t("li",es,[a[2]||(a[2]=t("span",{class:"fs-5"},[t("i",{class:"fas fa-circle text-warning me-1"}),L(" JavaScript ")],-1)),t("a",{href:(u=d(v))==null?void 0:u.javaScript[((m=d(v))==null?void 0:m.javaScript.length)-1].link,target:"_blank",class:"fs-5 text-decoration-none slide-right-hover"},D((b=d(v))==null?void 0:b.javaScript[((f=d(v))==null?void 0:f.javaScript.length)-1].title),9,as)])])])])])])])])])}}},ns={};function rs(s,o){const n=os;return k(),S(n)}const ls=rt(ns,[["render",rs]]);export{ls as default};
