import{g as X,c as B,o as S,a as s,j as Y,d as E,t as y,k as p,n as Z,C as I,l as V,s as G,m as A,v as Q,r as w,p as K,q as ss,x as es,y as O,z as ts,A as H,L as as,B as os,D as ns,E as rs,F as is,P as ls,G as ds,H as cs,I as R,J as ms,K as ps,M as j,_ as _s}from"./CPbPgQ_0.js";const gs={class:"row"},us={class:"col-xl-3 col-md-6 mb-4"},fs={class:"card border-left-primary shadow h-100 p-2"},Cs={class:"card-body"},hs={class:"row no-gutters align-items-center h-100"},xs={class:"col"},Ps={class:"fs-3 mb-0 fw-bold"},bs={class:"col-xl-3 col-md-6 mb-4"},vs={class:"card border-left-info shadow h-100 p-2"},Ss={class:"card-body"},ys={class:"row no-gutters align-items-center h-100"},Ds={class:"col mr-2"},Es={class:"row no-gutters align-items-center"},Rs={class:"col-auto"},As={class:"fs-3 mb-0 fw-bold"},ws={class:"col"},Os={class:"progress progress-sm mr-2"},Is={class:"col-xl-3 col-md-6 mb-4"},Ls={class:"card border-left-warning shadow h-100 p-2"},ks={class:"card-body"},Fs={class:"row no-gutters align-items-center h-100"},Ms={class:"col"},Ns={class:"fs-3 mb-0 fw-bold"},Ts={__name:"ContentRow",props:{stats:{type:Object,required:!0},checkInNum:{required:!0}},setup(e){const a=e,o=X(()=>{var t,n;return((((n=(t=a==null?void 0:a.stats)==null?void 0:t.css)==null?void 0:n.length)??0)/27).toFixed(2)*100});return(i,t)=>{var n;return S(),B("div",gs,[s("div",us,[s("div",fs,[s("div",Cs,[s("div",hs,[s("div",xs,[t[1]||(t[1]=s("div",{class:"font-weight-bold text-primary mb-1"}," 每日任務總打卡次數 ",-1)),s("div",Ps,[E(y(e.checkInNum)+" ",1),t[0]||(t[0]=s("span",{class:"fs-6 fw-light"},"次",-1))])]),t[2]||(t[2]=s("div",{class:"col-auto"},[s("i",{class:"fas fa-check fa-2x text-gray-300"})],-1))])])])]),s("div",bs,[s("div",vs,[s("div",Ss,[s("div",ys,[s("div",Ds,[t[3]||(t[3]=s("div",{class:"text-xs font-weight-bold text-info text-uppercase mb-1"}," 任務發布進度 ",-1)),s("div",Es,[s("div",Rs,[s("div",As,y(p(o))+" % ",1)]),s("div",ws,[s("div",Os,[s("div",{class:"progress-bar bg-info",role:"progressbar",style:Z({width:`${p(o)}%`}),"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])])]),t[4]||(t[4]=s("div",{class:"col-auto"},[s("i",{class:"fas fa-clipboard-list fa-2x text-gray-300"})],-1))])])])]),s("div",Is,[s("div",Ls,[s("div",ks,[s("div",Fs,[s("div",Ms,[t[6]||(t[6]=s("div",{class:"font-weight-bold text-warning mb-1"}," 每日任務已經累積 ",-1)),s("div",Ns,[E(y((n=a==null?void 0:a.stats)==null?void 0:n.css.length)+" ",1),t[5]||(t[5]=s("span",{class:"fs-6 fw-light"},"天",-1))])]),t[7]||(t[7]=s("div",{class:"col-auto"},[s("i",{class:"fas fa-calendar fa-2x text-gray-300"})],-1))])])])]),t[8]||(t[8]=Y('<div class="col-xl-3 col-md-6 mb-4"><div class="card border-left-success shadow h-100 p-2"><div class="card-body"><div class="row no-gutters align-items-center h-100"><div class="col"><div class="font-weight-bold text-success mb-1">查看每日任務打卡回報區</div><div class="fs-5 mb-0"><a href="https://discord.com/channels/801807326054055996/1349590197708525638" target="_blank" rel="noopener noreferrer">點此前往 Discord </a></div></div><div class="col-auto"><i class="fas fa-arrow-right fa-2x text-gray-300"></i></div></div></div></div></div>',1))])}}},J={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Us={ariaLabel:{type:String},ariaDescribedby:{type:String}},Ws={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...J,...Us},js=Q[0]==="2"?(e,a)=>Object.assign(e,{attrs:a}):(e,a)=>Object.assign(e,a);function v(e){return H(e)?O(e):e}function $s(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return H(a)?new Proxy(e,{}):e}function Bs(e,a){const o=e.options;o&&a&&Object.assign(o,a)}function q(e,a){e.labels=a}function z(e,a,o){const i=[];e.datasets=a.map(t=>{const n=e.datasets.find(m=>m[o]===t[o]);return!n||!t.data||i.includes(n)?{...t}:(i.push(n),Object.assign(n,t),n)})}function Vs(e,a){const o={labels:[],datasets:[]};return q(o,e.labels),z(o,e.datasets,a),o}const Gs=V({props:Ws,setup(e,a){let{expose:o,slots:i}=a;const t=w(null),n=G(null);o({chart:n});const m=()=>{if(!t.value)return;const{type:d,data:C,options:h,plugins:g,datasetIdKey:u}=e,x=Vs(C,u),_=$s(x,C);n.value=new I(t.value,{type:d,data:_,options:{...h},plugins:g})},r=()=>{const d=O(n.value);d&&(e.destroyDelay>0?setTimeout(()=>{d.destroy(),n.value=null},e.destroyDelay):(d.destroy(),n.value=null))},l=d=>{d.update(e.updateMode)};return K(m),ss(r),es([()=>e.options,()=>e.data],(d,C)=>{let[h,g]=d,[u,x]=C;const _=O(n.value);if(!_)return;let c=!1;if(h){const f=v(h),b=v(u);f&&f!==b&&(Bs(_,f),c=!0)}if(g){const f=v(g.labels),b=v(x.labels),P=v(g.datasets),D=v(x.datasets);f!==b&&(q(_.config.data,f),c=!0),P&&P!==D&&(z(_.config.data,P,e.datasetIdKey),c=!0)}c&&ts(()=>{l(_)})},{deep:!0}),()=>A("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:t},[A("p",{},[i.default?i.default():""])])}});function Ks(e,a){return I.register(a),V({props:J,setup(o,i){let{expose:t}=i;const n=G(null),m=r=>{n.value=r==null?void 0:r.chart};return t({chart:n}),()=>A(Gs,js({ref:m},{type:e,...o}))}})}const Hs=Ks("line",as),Js={__name:"CheckinLineChart",props:{stats:{type:Object,required:!0}},setup(e){var m,r;I.register(os,ns,rs,is,ls,ds,cs);function a(l,d=0,C=".",h=","){l=(l+"").replace(/[^0-9+\-Ee.]/g,"");const g=isFinite(+l)?+l:0,u=isFinite(+d)?Math.abs(d):0,x=h,_=C;let c="";return c=(u?((b,P)=>""+Math.round(b*Math.pow(10,P))/Math.pow(10,P))(g,u):""+Math.round(g)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,x)),(c[1]||"").length<u&&(c[1]=c[1]||"",c[1]+=new Array(u-c[1].length+1).join("0")),c.join(_)}const o=e,t={labels:Array.from({length:o.stats.css.length},(l,d)=>`Day ${d+1}`),datasets:[{label:"切版任務",data:(m=o==null?void 0:o.stats)==null?void 0:m.css,fill:!1,backgroundColor:"rgba(78, 115, 223, 0.05)",borderColor:"rgba(78, 115, 223, 1)",pointBackgroundColor:"rgba(78, 115, 223, 1)",tension:0},{label:"JS 任務",data:(r=o==null?void 0:o.stats)==null?void 0:r.js,fill:!1,backgroundColor:"rgba(244, 189, 51, 0.05)",borderColor:"rgba(244, 189, 51, 1)",pointBackgroundColor:"rgba(244, 189, 51, 1)",tension:0}]},n={responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:10,right:25,top:25,bottom:0}},plugins:{legend:{display:!0,position:"right",labels:{boxWidth:12,padding:10}},tooltip:{backgroundColor:"rgb(255,255,255)",bodyColor:"#858796",titleColor:"#6e707e",titleFont:{size:14},borderColor:"#dddfeb",borderWidth:1,padding:15,displayColors:!1,mode:"index",intersect:!1,callbacks:{label:function(l){return l.datasetIndex===0?"切版任務完成數: "+a(l.raw):l.datasetIndex===1?"JS 任務完成數: "+a(l.raw):a(l.raw)}}}},scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{maxTicksLimit:7}},y:{grid:{color:"rgb(234, 236, 244)",zeroLineColor:"rgb(234, 236, 244)",drawBorder:!1,borderDash:[2],zeroLineBorderDash:[2]},ticks:{maxTicksLimit:5,padding:10,callback:l=>a(l)}}}};return(l,d)=>(S(),R(p(Hs),{data:t,options:n}))}},qs=ms("/img/undraw_learning_2jue.svg");var $={ALLUSERSPROFILE:"C:\\ProgramData",API_BASE_URL:"https://hex2025.onrender.com/api",APPDATA:"C:\\Users\\x5426\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_14852_SRSFFVRLMEDSWBOW",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-K1CR84R",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\x5426",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\x5426",INIT_CWD:"C:\\Program Files\\Nuxt\\hex2025-EduTrack",KMP_BLOCKTIME:"0",LANG:"zh_TW.UTF-8",LOCALAPPDATA:"C:\\Users\\x5426\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-K1CR84R",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\x5426\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\x5426\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\x5426\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\x5426\\.npm-init.js",npm_config_local_prefix:"C:\\Program Files\\Nuxt\\hex2025-EduTrack",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_node_gyp:"C:\\Users\\x5426\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_prefix:"C:\\Users\\x5426\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\x5426\\.npmrc",npm_config_user_agent:"npm/9.5.1 node/v18.16.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\x5426\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"generate",npm_lifecycle_script:"nuxt generate",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Program Files\\Nuxt\\hex2025-EduTrack\\package.json",npm_package_name:"nuxt-app",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\x5426\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",NVM_HOME:"C:\\Users\\x5426\\AppData\\Roaming\\nvm",NVM_SYMLINK:"C:\\Program Files\\nodejs",OMP_WAIT_POLICY:"PASSIVE",OneDrive:"C:\\Users\\x5426\\OneDrive",OneDriveConsumer:"C:\\Users\\x5426\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Program Files\\Nuxt\\hex2025-EduTrack\\node_modules\\.bin;C:\\Program Files\\Nuxt\\node_modules\\.bin;C:\\Program Files\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\x5426\\AppData\\Roaming\\nvm\\v18.16.0\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Git\\cmd;C:\\Users\\x5426\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Windows\\System32\\Wbem;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\PuTTY\\;C:\\Users\\x5426\\AppData\\Local\\Programs\\Python\\Python313\\Scripts\\;C:\\Users\\x5426\\AppData\\Local\\Programs\\Python\\Python313\\;C:\\Users\\x5426\\AppData\\Local\\Programs\\Python\\Launcher\\;C:\\Users\\x5426\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\x5426\\.dotnet\\tools;C:\\Users\\x5426\\AppData\\Roaming\\npm;C:\\Users\\x5426\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Program Files (x86)\\ngrok;",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 94 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"5e03",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\x5426\\OneDrive\\文件\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\x5426\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.99.3",TMP:"C:\\Users\\x5426\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-K1CR84R",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-K1CR84R",USERNAME:"x5426",USERPROFILE:"C:\\Users\\x5426",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\x5426\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-7af9e1cdba-sock",VSCODE_INJECTION:"1",windir:"C:\\Windows",ZES_ENABLE_SYSMAN:"1"};const zs={id:"content-wrapper",class:"d-flex flex-column height-100vh pt-4"},Xs={id:"content"},Ys={class:"container-fluid"},Zs={class:"row"},Qs={class:"col-xl-8 col-lg-7 mb-4"},se={class:"card shadow h-100"},ee={class:"card-body"},te={class:"chart-area"},ae={class:"col-xl-4 col-lg-5 mb-4"},oe={class:"card shadow h-100"},ne={class:"card-body px-4"},re={class:"f-column gap-3 mt-3"},ie={class:"f-column gap-2"},le=["href"],de={class:"f-column gap-2"},ce=["href"],me={__name:"Dashboard",setup(e){const{$swal:a}=ps(),o=m=>{const{message:r}=(m==null?void 0:m.data)||{};a.fire({position:"center",icon:"error",title:r||"發生未知錯誤，請稍後重試",showConfirmButton:!1,timer:1500})},i=w([]),t=w(0),n=async()=>{try{const[m,r]=await Promise.all([$fetch(`${$.API_BASE_URL}/tasks/`),$fetch(`${$.API_BASE_URL}/dashboard/`)]);i.value=m,t.value=r.stats.filter(l=>new Date(l.date)>=new Date("2025-05-01")).reduce((l,d)=>l+d.count,0)}catch(m){o(m)}};return K(()=>n()),(m,r)=>{var C,h,g,u,x,_,c,f,b,P,D,L,k,F,M,N,T,U,W;const l=Ts,d=Js;return S(),B("div",zs,[s("div",Xs,[s("div",Ys,[r[5]||(r[5]=s("div",{class:"d-sm-flex align-items-center justify-content-between mb-4"},[s("h1",{class:"h3 mb-0 text-gray-800"},"Dashboard")],-1)),(C=p(i))!=null&&C.stats?(S(),R(l,{key:0,stats:(h=p(i))==null?void 0:h.stats,checkInNum:p(t)},null,8,["stats","checkInNum"])):j("",!0),s("div",Zs,[s("div",Qs,[s("div",se,[r[0]||(r[0]=s("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[s("h6",{class:"m-0 font-weight-bold text-primary"}," 每日任務完成數量 ")],-1)),s("div",ee,[s("div",te,[(g=p(i))!=null&&g.stats?(S(),R(d,{key:0,stats:(u=p(i))==null?void 0:u.stats},null,8,["stats"])):j("",!0)])])])]),s("div",ae,[s("div",oe,[r[4]||(r[4]=s("div",{class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},[s("h6",{class:"m-0 font-weight-bold text-primary"},"今日任務")],-1)),s("div",ne,[r[3]||(r[3]=s("div",{class:"f-center"},[s("img",{src:qs,alt:"learning-image",class:"img-fluid",style:{width:"16rem"}})],-1)),s("ul",re,[s("li",ie,[r[1]||(r[1]=s("span",{class:"fs-5"},[s("i",{class:"fas fa-circle text-primary me-1"}),E(" 切版 ")],-1)),s("a",{href:(c=(x=p(i))==null?void 0:x.formatted_tasks)==null?void 0:c.htmlAndCss[((_=p(i))==null?void 0:_.formatted_tasks.htmlAndCss.length)-1].link,target:"_blank",class:"fs-5 text-decoration-none slide-right-hover"},y((D=(f=p(i))==null?void 0:f.formatted_tasks)==null?void 0:D.htmlAndCss[((P=(b=p(i))==null?void 0:b.formatted_tasks)==null?void 0:P.htmlAndCss.length)-1].title),9,le)]),s("li",de,[r[2]||(r[2]=s("span",{class:"fs-5"},[s("i",{class:"fas fa-circle text-warning me-1"}),E(" JavaScript ")],-1)),s("a",{href:(M=(L=p(i))==null?void 0:L.formatted_tasks)==null?void 0:M.javaScript[((F=(k=p(i))==null?void 0:k.formatted_tasks)==null?void 0:F.javaScript.length)-1].link,target:"_blank",class:"fs-5 text-decoration-none slide-right-hover"},y((W=(N=p(i))==null?void 0:N.formatted_tasks)==null?void 0:W.javaScript[((U=(T=p(i))==null?void 0:T.formatted_tasks)==null?void 0:U.javaScript.length)-1].title),9,ce)])])])])])])])])])}}},pe={};function _e(e,a){const o=me;return S(),R(o)}const ue=_s(pe,[["render",_e]]);export{ue as default};
